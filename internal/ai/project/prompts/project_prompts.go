package prompts

import (
	"fmt"
	"github.com/Jamolkhon5/mistral/internal/ai/project/models"
	"strings"
)

const (
	SystemPrompt = `–¢—ã - —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–æ–≤. –¢–≤–æ—è –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –∑–∞–¥–∞—á–∞ - –ø–æ–º–æ–≥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç—ã, —Å–æ–±–∏—Ä–∞—è –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é —à–∞–≥ –∑–∞ —à–∞–≥–æ–º.

–¢—ã –¥–æ–ª–∂–µ–Ω:
1. –ü–æ–º–æ–≥–∞—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–æ–µ–∫—Ç—ã, –Ω–∏–∫–∞–∫–∏–µ –¥—Ä—É–≥–∏–µ —Ç–µ–º—ã –Ω–µ –æ–±—Å—É–∂–¥–∞—é—Ç—Å—è
2. –°–ª–µ–¥–æ–≤–∞—Ç—å —á–µ—Ç–∫–æ–º—É –ø—Ä–æ—Ü–µ—Å—Å—É —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞
3. –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∏ –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —à–∞–≥
4. –î–∞–≤–∞—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫–∏ –ø–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—é –ø–æ–ª–µ–π
5. –ü–æ–º–æ–≥–∞—Ç—å —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –æ–ø–∏—Å–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞
6. –ë—ã—Ç—å –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–º –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º

–ü—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞:
1. –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ (3-100 —Å–∏–º–≤–æ–ª–æ–≤)
2. –û–ø–∏—Å–∞–Ω–∏–µ (10-3000 —Å–∏–º–≤–æ–ª–æ–≤)
3. –î–µ–¥–ª–∞–π–Ω (–≤ —Ñ–æ—Ä–º–∞—Ç–µ –î–î.–ú–ú.–ì–ì–ì–ì)
4. –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–í–´–°–û–ö–ò–ô/–°–†–ï–î–ù–ò–ô/–ù–ò–ó–ö–ò–ô)
5. –ö–æ–º–∞–Ω–¥–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–¢—ã –≤—Å–µ–≥–¥–∞ –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–≤–µ—Ä—è—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º.`

	WelcomeMessage = `–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –Ø –ø–æ–º–æ–≥—É –≤–∞–º —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç. 

–î–∞–≤–∞–π—Ç–µ –Ω–∞—á–Ω–µ–º —Å –Ω–∞–∑–≤–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞. –ö–∞–∫ –≤—ã —Ö–æ—Ç–∏—Ç–µ –µ–≥–æ –Ω–∞–∑–≤–∞—Ç—å?

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –Ω–∞–∑–≤–∞–Ω–∏—é:
‚Ä¢ –û—Ç 3 –¥–æ 100 —Å–∏–º–≤–æ–ª–æ–≤
‚Ä¢ –ú–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã, –ø—Ä–æ–±–µ–ª—ã –∏ —Å–∏–º–≤–æ–ª—ã - _
‚Ä¢ –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º

–ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏–ª–∏ –ø–æ–ø—Ä–æ—Å–∏—Ç–µ –ø–æ–º–æ—â—å –≤ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–∞–∑–≤–∞–Ω–∏—è.`

	DescriptionPrompt = `–û—Ç–ª–∏—á–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ! –¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ –¥–æ–±–∞–≤–∏–º –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞.

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –æ–ø–∏—Å–∞–Ω–∏—é:
‚Ä¢ –û—Ç 10 –¥–æ 3000 —Å–∏–º–≤–æ–ª–æ–≤
‚Ä¢ –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º
‚Ä¢ –û–ø–∏—à–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ü–µ–ª–∏ –∏ –∑–∞–¥–∞—á–∏
‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è

–ù–∞–ø–∏—à–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–ª–∏ –ø–æ–ø—Ä–æ—Å–∏—Ç–µ –ø–æ–º–æ—â—å –≤ –µ–≥–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏.`

	DeadlinePrompt = `–•–æ—Ä–æ—à–æ! –¢–µ–ø–µ—Ä—å —É–∫–∞–∂–∏—Ç–µ –¥–µ–¥–ª–∞–π–Ω –ø—Ä–æ–µ–∫—Ç–∞.

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –¥–∞—Ç–µ:
‚Ä¢ –§–æ—Ä–º–∞—Ç: –î–î.–ú–ú.–ì–ì–ì–ì
‚Ä¢ –ü—Ä–∏–º–µ—Ä: 31.12.2024
‚Ä¢ –î–∞—Ç–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ –±—É–¥—É—â–µ–º`

	PriorityPrompt = `–°–ø–∞—Å–∏–±–æ! –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø—Ä–æ–µ–∫—Ç–∞:

üî¥ –í–´–°–û–ö–ò–ô - —Å—Ä–æ—á–Ω—ã–µ –∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã
üü° –°–†–ï–î–ù–ò–ô - –≤–∞–∂–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã –±–µ–∑ –æ—Å–æ–±–æ–π —Å—Ä–æ—á–Ω–æ—Å—Ç–∏
üü¢ –ù–ò–ó–ö–ò–ô - –ø—Ä–æ–µ–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –æ—Ç–ª–æ–∂–∏—Ç—å

–ù–∞–ø–∏—à–∏—Ç–µ "–≤—ã—Å–æ–∫–∏–π", "—Å—Ä–µ–¥–Ω–∏–π" –∏–ª–∏ "–Ω–∏–∑–∫–∏–π".`

	TeamPrompt = `–¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ –¥–æ–±–∞–≤–∏–º –∫–æ–º–∞–Ω–¥—É –ø—Ä–æ–µ–∫—Ç–∞.

–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–æ–ª–∏:
üëë –ú–µ–Ω–µ–¥–∂–µ—Ä - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–æ–µ–∫—Ç—É
‚úèÔ∏è –†–µ–¥–∞–∫—Ç–æ—Ä - –º–æ–∂–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á–∏
üëÄ –ß–∏—Ç–∞—Ç–µ–ª—å - –º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å

–í–≤–µ–¥–∏—Ç–µ email —É—á–∞—Å—Ç–Ω–∏–∫–∞ –∏–ª–∏ –Ω–∞–ø–∏—à–∏—Ç–µ "–≥–æ—Ç–æ–≤–æ", –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —ç—Ç–æ—Ç —à–∞–≥.`

	GenerateDescriptionPrompt = `–ü–æ–º–æ–≥—É —Å–æ—Å—Ç–∞–≤–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞. –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –∫—Ä–∞—Ç–∫–æ, –æ —á—ë–º –≤–∞—à –ø—Ä–æ–µ–∫—Ç, –∏ —è –ø–æ–º–æ–≥—É —Å–æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ.`

	ConfirmationPrompt = `–î–∞–≤–∞–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏–º –≤–≤–µ–¥–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:

%s

–í—Å—ë –≤–µ—Ä–Ω–æ? –û—Ç–≤–µ—Ç—å—Ç–µ "–¥–∞" –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –∏–ª–∏ "–Ω–µ—Ç" –¥–ª—è –≤–Ω–µ—Å–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π.`
)

// GetProjectDataSummary —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
func GetProjectDataSummary(data *models.ProjectData) string {
	return fmt.Sprintf(`
üìã –ù–∞–∑–≤–∞–Ω–∏–µ: %s

üìù –û–ø–∏—Å–∞–Ω–∏–µ: 
%s

üìÖ –î–µ–¥–ª–∞–π–Ω: %s

‚ö° –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: %s

üë• –ö–æ–º–∞–Ω–¥–∞: %s
`,
		data.Name,
		data.Description,
		data.Deadline,
		data.Priority,
		formatTeamSummary(data.Team),
	)
}

func formatTeamSummary(team []models.TeamMember) string {
	if len(team) == 0 {
		return "–ù–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ –Ω–∏ –æ–¥–Ω–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞"
	}

	var summary strings.Builder
	for _, member := range team {
		summary.WriteString(fmt.Sprintf("\n‚Ä¢ %s %s (%s)\n  –†–æ–ª—å: %s",
			member.Name,
			member.Lastname,
			member.Email,
			formatRole(member.Role)))
	}
	return summary.String()
}

func formatRole(role string) string {
	switch role {
	case "MANAGER":
		return "–ú–µ–Ω–µ–¥–∂–µ—Ä"
	case "EDITOR":
		return "–†–µ–¥–∞–∫—Ç–æ—Ä"
	case "READER":
		return "–ß–∏—Ç–∞—Ç–µ–ª—å"
	default:
		return role
	}
}
